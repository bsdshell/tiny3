<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <link rel="stylesheet" type="text/css" href="myhl.css">
  <title>getElementsByTagName example</title>
  <script>
    function parse(str){
        
    }
    function getAllParaElems() {
      var htmlColl = document.getElementsByTagName("code");
      alert("length=[" + htmlColl.length + "]");
      alert("lengthchildNode=[" + htmlColl[0].length + "]");



      var innerthml = htmlColl[0].innerHTML;

      alert("name item=[" + htmlColl[0].childNodes[0].nodeValue + "]");
      var mycode = htmlColl[0].childNodes[0].nodeValue;

      var strReg1 = /(@interface)/g;
      var lineBreak = /(\r\n|\n|\r)/g;
      var cString = /("[a-w]+")/g;
      var intString = /(int)/g;
      var jString = /(String)/g;
      var numString = /([0-9]+)/g;

      var regArray = [
                        [/(String)/g, "jString"],
                        [/([0-9]+)/g, "numString"],
                        [/(int)/g, "intString"],
                        [/("[a-w ]+")/g, "cString"],
                        [/(KKKK)/g, "<br />"],
                        [/(PPPP)/g, "&nbsp;"]
                    ];

      mycode = mycode.replace(/\r\n|\r|\n/g, " KKKK ");
      mycode = mycode.replace(/\s/g, " PPPP ");
      alert(mycode);
      var textArray = mycode.split(/\s+/);
      var textString = ""; 
      var index;
      
      for(index=0; index < textArray.length; index++){
          var token = textArray[index]; 
          var i=0;
          var match_array = null;
          for(i = 0; i < regArray.length; i++){
            var match_array = token.match(regArray[i][0]);
            if(match_array !== null){
                if(i >= regArray.length - 2){
                  textString += token.replace(regArray[i][0], regArray[i][1]);
                }
                else{
                  textString += token.replace(regArray[i][0], "<span class=" + regArray[i][1] + ">$1</span>");
                }
              break;
            }
          }
          if(match_array === null)
            textString += token;
          textString += " ";
      }
      
      alert(textString);
      htmlColl[0].innerHTML = textString;
    }
  </script>
</head> 
<body onload="getAllParaElems()" class="bodybox">
  <div class="box">
    <code class="codebg">
        String str = "this";
        int  num = 134;
        int mynum = 44334;
        String myString = "this is cool";
    </code>
  </div>
</body>
</html>
